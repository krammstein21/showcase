<div class="mx-auto">
  <% if notice.present? %>
    <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-lg inline-block" id="notice"><%= notice %></p>
  <% end %>

  <div class="flex justify-between items-center">
    <h1 class="mx-auto font-bold text-4xl pb-5">Studios</h1>
  </div>

  <div id="studios" class="min-w-full">
    <table class="table-fixed mx-auto">
    <thead>
      <tr>
        <td class="row-head">Location
        <td class="row-head">Count
        <% if @total_tables > 0 %>
        <td class="row-head">Tables
        <% end %>
        <% if @total_invoice > 0 %>
        <td class="row-head">Invoice
        <% end %>
      </tr>
    </thead>
    <tbody>
    <% @studios.each do |studio| %>
      <tr>
        <td class="text-black font-medium"><%= link_to studio.name, studio %></td>
        <td class="text-right"><%= studio.people.count %></td>
        <% if @total_tables > 0 %>
        <td class="text-right"><%= studio.tables.to_i %></td>
        <% end %>
        <% if @total_invoice > 0 %>
        <td class="text-right">
          <%= number_to_currency @invoices[studio][:total_cost], precision: 2, unit: '' %>
        </td>
        <% end %>
      </tr>
    <% end %>
      <tr>
        <th class="row-foot-right">totals</td>
        <td class="row-foot-right"><%= @total_count %></td>
        <% if @total_tables > 0 %>
        <td class="row-foot-right"><%= @total_tables %></td>
        <% end %>
        <% if @total_invoice > 0 %>
        <td class="row-foot-right text-right"><%= number_to_currency @total_invoice, precision: 2, unit: '' %></td>
        <% end %>
      </tr>
    </tbody>
    </table>
  </div>

  <div class="mt-4 flex justify-between items-center">
    <%= up_link 'New studio', new_studio_path, class: "btn-blue" %>
    <%= link_to "Back to Event", root_path, class: "btn-green" %>
  </div>
</div>
